@use 'styles/index';
@import 'styles/variable-generator';

// Workaround to remove autofill background and text color, works on most browsers except for Chrome mobile
.bubp-checkout__filter-input:-webkit-autofill,
.bubp-checkout__filter-input:-webkit-autofill:active,
.bubp-checkout__filter-input:-webkit-autofill:hover,
.bubp-checkout__filter-input:-webkit-autofill:focus,
.bubp-checkout__filter-input:autofill,
.bubp-checkout__input:-webkit-autofill,
.bubp-checkout__input:-webkit-autofill:active,
.bubp-checkout__input:-webkit-autofill:hover,
.bubp-checkout__input:-webkit-autofill:focus,
.bubp-checkout__input:autofill {
    color: token(color-label-primary) !important;
    -webkit-text-fill-color: token(color-label-primary) !important;
    box-shadow: 0 0 0 1000px token(color-background-primary) inset !important;
    background-clip: text !important;
    background-color: token(color-label-primary) !important;
    transition: none !important;
}

// Additional workaround for Chrome mobile to remove autofill background and text color
.bubp-checkout__input,
.bubp-checkout__filter-input {
    color: token(color-label-primary) !important;
    background-clip: text !important;
}

.bubp-checkout__field-wrapper {
    display: flex;
    width: 100%;
}

.bubp-checkout__field--20 {
    @include index.screen-s-and-up {
        width: 20%;
    }
}

.bubp-checkout__field--30 {
    @include index.screen-s-and-up {
        width: 30%;
    }
}

.bubp-checkout__field--40 {
    @include index.screen-s-and-up {
        width: 40%;
    }
}

.bubp-checkout__field--50 {
    @include index.screen-s-and-up {
        width: 50%;
    }
}

.bubp-checkout__field--60 {
    @include index.screen-s-and-up {
        width: 60%;
    }
}

.bubp-checkout__field--70 {
    @include index.screen-s-and-up {
        width: 70%;
    }
}

.bubp-checkout__field--80 {
    @include index.screen-s-and-up {
        width: 80%;
    }
}

$deduct-width: token(spacer-040);

.bubp-checkout__field--col-20 {
    @include index.screen-s-and-up {
        width: calc(20% - $deduct-width);
    }
}

.bubp-checkout__field--col-30 {
    @include index.screen-s-and-up {
        width: calc(30% - $deduct-width);
    }
}

.bubp-checkout__field--col-40 {
    @include index.screen-s-and-up {
        width: calc(40% - $deduct-width);
    }
}

.bubp-checkout__field--col-50 {
    @include index.screen-s-and-up {
        width: calc(50% - $deduct-width);
    }
}

.bubp-checkout__field--col-60 {
    @include index.screen-s-and-up {
        width: calc(60% - $deduct-width);
    }
}

.bubp-checkout__field--col-70 {
    @include index.screen-s-and-up {
        width: calc(70% - $deduct-width);
    }
}

.bubp-checkout__field--col-80 {
    @include index.screen-s-and-up {
        width: calc(80% - $deduct-width);
    }
}


.bubp-checkout__field-wrapper > .bubp-checkout__field:first-child {
    margin-right: token(spacer-040);

    [dir='rtl'] & {
        margin-right: 0;
        margin-left: token(spacer-040);
    }
}

.bubp-checkout__field-wrapper > .bubp-checkout__field:nth-child(2) {
    margin-left: token(spacer-040);

    [dir='rtl'] & {
        margin-left: 0;
        margin-right: token(spacer-040);
    }
}

.bubp-checkout__field-wrapper:last-of-type > .bubp-checkout__field {
    margin-bottom: 0;
}

.bubp-checkout__input {
    width: 100%;
    color: token(color-label-primary);
    font-size: token(text-subtitle-font-size);
    font-family: inherit;
    display: block;
    height: token(spacer-110);
    padding-left: token(spacer-060);
    background: inherit;
    outline: none;
    transition:
        border 0.2s ease-out,
        box-shadow 0.2s ease-out;

    &:required {
        box-shadow: none;
    }

    &:disabled,
    &:read-only {
        color: token(color-label-secondary) !important;
        cursor: default;
    }
}

span.bubp-checkout__input {
    overflow: hidden;
}

.bubp-checkout-input__inline-validation {
    width: token(spacer-070);
    height: token(spacer-070);
    margin-right: token(spacer-060);

    [dir='rtl'] & {
        margin-left: token(spacer-060);
    }

    > .bubp-checkout__icon {
        display: block;
    }
}

.bubp-checkout-input__inline-validation--valid {
    color: token(color-label-success);
}

.bubp-checkout-input__inline-validation--invalid {
    color: token(color-label-critical);
}

.bubp-checkout__input--date {
    padding: 0.5em;
}
